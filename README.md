# Домашнее задание к занятию "`Базы данных, их типы`" - `Чупин Александр`



---

### Задание 1

> Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для каждой предметной области.
> Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему?
> 1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков. СУБД должна гарантировать целостность и чёткую структуру данных.
> 1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? СУБД должны быть гибкими и быстрыми.
> 1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.
> 1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать со связями.


1.1 Реляционная СУБД
Почему: 
-Транзакционность
-Четкая структура
-Целостность данных важнее скорости работы
1.2 Документо-ориентированная СУБД, например MongoDB.
Почему:
-Добавление новых полей без изменения структуры
-Скорость работы
1.3 Документо-ориентированная СУБД, например ElasticSearch
-Скорее всего пригодится поиск
-Простая структура
1.4 Графовая СУБД.



---

### Задание 2

> 2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы транзакция завершилась успешно. Ориентируйтесь на шесть действий.

1.После нажатия пользователем кнопки пополнения баланса телефона в банковском приложении - банковское приложение дергает соответствующий метод API и отправляется скорее всего json файл с телом запроса в backend мобильного приложения.
2.backend приложения получает запрос и передает команду на транзакцию в банковскую ИС. 
3.Первый шаг транзакции - банковская ИС на время операции лочит другие операции со счетом этого клиента.
4.Второй шаг транзакции - банковская ИС проверяет наличие нужной суммы денег на счету и прочие проверки и одобряет/не одобряет операцию.
5.Третий шаг транзакции - банковская ИС отправляет запрос в платежную систему на перевод со счета клиента на счет мобильного оператора в другой банк
6.Четверый шаг транзакции - платежная система проводит проверку может ли она и согласна ли она выполнить операцию и дает ответ банковской системе.
7.Пятый шаг транзакции - банковская ИС передает деньги в платежную систему.
8.Шестой шаг транзакции - платежная система перечисляет деньги на счет мобильного оператора в другой банк.
9.Седьмой шаг транзакции - банк где находится счет мобильного оператора подтверждает что деньги получил.
10.Восьмой шаг транзакции - транзакция успешно завершается, снимается лок.

> 2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

То же самое , только запрос на совершение операции в backend приложения отправляло бы не банковское приложение, а джоба крутящаяся в самом backend'е приложения созданная при настройке автоплатежа. 

---

### Задание 3

> 3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL.

1. Максимально простая и интуитивно понятная структура - в основе таблица
2. Специалистов на рынке знающих SQL - много
3. Поддерживают ACID транзакции "из коробки" - много где нужно (как правило везде где про деньги)
4. В любом языке программирования есть встроенные инструменты для работы с SQL СУБД
5. Очень большое количество встроенных фич в популярных SQL СУБД

### Задание 4

> Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин.
> На основе какого критерия будете выбирать тип СУБД и какая модель распределённых вычислений здесь справится лучше всего и почему?

Все зависит от того параллелятся ли вычисления.
Если параллелятся - необходима СУБД где поддерживается шардирование "из коробки" (например MongoDB или Cassandra), чтобы можно было параллелить вычисления.
В таком случае отличное подойдет peer-to-peer модель распределенных вычислений.

Если вычисления не параллелятся - то нужно использовать модель грид-вычислений, то есть объединить все машины в единый кластер.
В таком случае выбор типа СУБД будет зависеть от типа вычислений которые надо производить.
